# ACM实验室 - Markdown与图片功能使用指南

## 📋 功能概览

本系统现已完整支持Markdown文档的动态渲染和图片上传功能，提供了从创建到展示的完整解决方案。

## ✨ 已实现的功能

### 🔧 后端功能

#### 1. 图片上传API
- **接口地址：** `POST /api/notifications/upload_image`
- **支持格式：** PNG, JPG, JPEG, GIF, WebP, BMP, SVG
- **文件大小：** 最大5MB
- **存储位置：** `/static/uploads/notifications/images/`
- **安全特性：** 文件名安全处理，唯一ID生成

#### 2. Markdown处理增强
- **智能检测：** 自动识别Markdown语法
- **图片预处理：** 自动处理图片路径
- **HTML优化：** 添加响应式类和交互功能
- **扩展支持：** 表格、代码高亮、目录生成等

#### 3. 内容渲染优化
- **路径处理：** 自动转换相对路径为绝对路径
- **懒加载：** 为图片添加懒加载属性
- **响应式：** 自动添加响应式CSS类
- **交互增强：** 图片点击放大功能

### 🎨 前端功能

#### 1. 编辑器增强
- **图片上传按钮：** 工具栏新增专用上传按钮
- **拖拽上传：** 支持文件拖拽到编辑器
- **实时反馈：** 上传进度和状态提示
- **自动插入：** 上传成功后自动插入Markdown语法

#### 2. 展示页面优化
- **响应式图片：** 自适应屏幕大小
- **图片灯箱：** 点击图片放大查看
- **动画效果：** 平滑的缩放和淡入效果
- **键盘控制：** ESC键关闭放大视图

#### 3. 样式美化
- **阴影效果：** 图片悬停阴影变化
- **圆角设计：** 现代化的圆角样式
- **渐变背景：** 美观的渐变背景效果

## 📖 使用方法

### 方法一：在线编辑器上传图片

1. **进入管理后台**
   - 访问 `/admin` 进入管理页面
   - 登录管理员账号

2. **打开通知管理**
   - 点击侧边栏"通知栏管理"
   - 或直接访问通知管理页面

3. **创建或编辑通知**
   - 点击"新增通知"创建新内容
   - 或点击"编辑"修改现有内容

4. **上传图片**
   - 在编辑器工具栏找到上传按钮（📤图标）
   - 点击按钮选择图片文件
   - 等待上传完成，系统自动插入Markdown语法

5. **预览和保存**
   - 使用分屏模式查看实时预览
   - 确认无误后点击保存

### 方法二：文档上传

1. **准备Markdown文件**
   - 创建 `.md` 格式的文件
   - 可以包含图片引用语法

2. **上传文档**
   - 在通知管理页面选择"文档上传"标签
   - 拖拽或选择Markdown文件
   - 系统自动解析并转换

3. **图片处理**
   - 如果文档中包含图片引用
   - 需要确保图片路径正确
   - 或使用在线编辑器重新上传图片

### 方法三：手动编写

1. **直接编写Markdown**
   - 在编辑器中直接输入Markdown语法
   - 使用工具栏按钮快速插入格式

2. **图片语法**
   ```markdown
   ![图片描述](图片URL "可选标题")
   ```

3. **图片路径**
   - 可以使用相对路径（系统自动处理）
   - 推荐使用绝对路径确保显示正常

## 🎯 最佳实践

### 📝 编辑技巧

1. **使用工具栏**
   - 善用各种格式化按钮
   - 快捷键：Ctrl+B(粗体)、Ctrl+I(斜体)

2. **实时预览**
   - 开启分屏模式查看效果
   - 及时调整格式和样式

3. **图片优化**
   - 控制文件大小在5MB以内
   - 使用合适的图片格式
   - 添加有意义的alt文本

### 🖼️ 图片管理

1. **命名规范**
   - 使用有意义的文件名
   - 避免中文和特殊字符

2. **尺寸建议**
   - 宽度建议不超过1200px
   - 保持合适的宽高比

3. **格式选择**
   - 照片：JPEG
   - 图标：PNG
   - 动画：GIF
   - 现代浏览器：WebP

### 📱 移动端适配

1. **响应式设计**
   - 图片自动适配屏幕宽度
   - 移动端优化的触摸交互

2. **性能优化**
   - 懒加载减少初始加载时间
   - 适当压缩图片大小

## 🔍 故障排除

### 常见问题

1. **图片无法上传**
   - 检查文件格式是否支持
   - 确认文件大小不超过5MB
   - 检查网络连接状态

2. **图片显示异常**
   - 检查图片路径是否正确
   - 确认图片文件是否存在
   - 刷新页面重新加载

3. **Markdown渲染问题**
   - 检查语法是否正确
   - 确认缩进和格式
   - 查看控制台错误信息

### 技术支持

如遇到技术问题，请联系：
- **开发团队：** ACM算法研究实验室
- **邮箱：** [技术支持邮箱]
- **更新日志：** 查看系统更新记录

## 🚀 未来计划

### 计划中的功能
- [ ] 批量图片上传
- [ ] 图片编辑功能
- [ ] 视频文件支持
- [ ] 文档协作编辑
- [ ] 版本历史记录

---

**文档版本：** v1.0  
**最后更新：** 2024年1月  
**维护团队：** ACM算法研究实验室 